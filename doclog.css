
/* ---------------------------------------------------------
   RAW TOKENS (physical colors) — OKLCH version
   --------------------------------------------------------- */
:root {
  /* Core palette */
  --blue-strong: oklch(32% 0.18 265);      /* Deep blue */
  --blue-light: oklch(92% 0.05 265);       /* Light blue (computed: much lighter, less chroma) */
  --blue-lighter: oklch(96% 0.02 265);     /* Very subtle blue tint (computed: even lighter, less chroma) */

  --purple-visited: oklch(48% 0.18 310);   /* Vibrant purple for visited links */

  --light-bg: oklch(100% 0 0);             /* Pure white */
  --light-text: oklch(0% 0 0);             /* Pure black */

  --dark-bg: oklch(18% 0.02 265);          /* Near-black with slight blue hue */
  --dark-text: oklch(88% 0.02 265);        /* Light gray for readability */

  --dark-accent-strong: oklch(35% 0.15 265); /* Strong accent for dark mode */
  --dark-accent: oklch(75% 0.08 180);        /* Softer teal accent (computed: more chroma, greenish hue) */

  --dark-surface-odd: oklch(22% 0.02 265);   /* Slightly lighter than dark-bg */
  --dark-surface-even: oklch(28% 0.02 265);  /* Even lighter for alternating rows */

  --code-bg-light: oklch(96% 0 0);         /* Neutral light gray */
  --code-border-light: oklch(88% 0 0);     /* Subtle border */

  /* Radii */
  --radius-small: 0.25rem;
  --radius-medium: 0.5rem;
}

/* ---------------------------------------------------------
   SEMANTIC TOKENS (meaning-based)
   --------------------------------------------------------- */
:root {
  /* Surfaces */
  --surface-1: var(--light-bg);          /* main background */
  --surface-2: var(--code-bg-light);     /* code blocks, elevated surfaces */
  --surface-3: var(--blue-light);        /* subtle highlight */

  /* Table surfaces */
  --surface-table-odd: var(--surface-3);
  --surface-table-even: var(--surface-2);

  /* Text */
  --text-primary: var(--light-text);
  --text-secondary: oklch(40% 0 0);        /* Neutral gray (computed) */
  --text-inverse: oklch(100% 0 0);

  /* Borders */
  --border-strong: var(--blue-strong);
  --border-subtle: var(--code-border-light);

  /* Links */
  --link: var(--blue-strong);
  --link-hover: oklch(28% 0.18 265);       /* Slightly darker for hover (computed) */
  --link-visited: var(--purple-visited);
  --dark-link-visited: oklch(60% 0.18 310); /* More visible in dark mode (computed) */

  /* Accents */
  --accent-primary: var(--blue-strong);
  --accent-strong: var(--blue-strong);
}

/* ---------------------------------------------------------
   SEMANTIC TOKENS — SYNTAX HIGHLIGHTING (future-proof)
   --------------------------------------------------------- */
:root {
  /* Prolog syntax roles */
  --syntax-keyword: oklch(32% 0.18 265);        /* Deep blue */
  --syntax-atom: oklch(40% 0.25 330);           /* Magenta atom (computed) */
  --syntax-functor: oklch(50% 0.18 265);        /* Blue functor (computed lighter) */
  --syntax-string: oklch(50% 0.15 140);         /* Green string (computed) */
  --syntax-number: oklch(50% 0.20 40);          /* Orange number (computed) */
  --syntax-variable: oklch(48% 0.20 310);       /* Purple variable (computed) */
  --syntax-comment: oklch(55% 0 0);             /* Neutral gray */
  --syntax-operator: oklch(65% 0 0);            /* Slightly lighter gray */
  --syntax-punctuation: oklch(60% 0 0);         /* Mid gray */
}

/* ---------------------------------------------------------
   DARK MODE SEMANTIC OVERRIDES
   --------------------------------------------------------- */
@media (prefers-color-scheme: dark) {
  :root {
    --surface-1: var(--dark-bg);
    --surface-2: var(--dark-surface-odd);
    --surface-3: var(--dark-surface-even);
    --surface-table-odd: var(--surface-3);
    --surface-table-even: var(--surface-2);

    --text-primary: var(--dark-text);
    --text-secondary: oklch(65% 0 0);        /* Lighter gray for dark mode */
    --text-inverse: oklch(0% 0 0);

    --border-strong: var(--dark-accent-strong);
    --border-subtle: var(--dark-surface-even);

    --link: var(--dark-accent);
    --link-hover: oklch(70% 0.08 180);       /* Brighter teal for hover */
    --link-visited: var(--dark-link-visited);

    --accent-primary: var(--dark-accent);
    --accent-strong: var(--dark-accent-strong);
  }
  :root {
    --syntax-keyword: oklch(75% 0.08 180);   /* Teal keyword */
    --syntax-atom: oklch(65% 0.25 330);      /* Magenta atom */
    --syntax-functor: oklch(70% 0.18 265);   /* Blue functor */
    --syntax-string: oklch(80% 0.15 140);    /* Green string */
    --syntax-number: oklch(70% 0.20 40);     /* Orange number */
    --syntax-variable: oklch(75% 0.20 310);  /* Purple variable */
    --syntax-comment: oklch(55% 0 0);        /* Neutral gray */
    --syntax-operator: oklch(65% 0 0);       /* Slightly lighter gray */
    --syntax-punctuation: oklch(60% 0 0);    /* Mid gray */
  }
}

/* ---------------------------------------------------------
   BASE TYPOGRAPHY & LAYOUT
   --------------------------------------------------------- */
body {
  font-family: sans-serif;
  margin: 1rem;
  line-height: 1.5;
  color: var(--text-primary);
  background: var(--surface-1);
}
code, pre {
  font-family: "JetBrains Mono", Consolas, monospace;
}
pre {
  background: var(--surface-2);
  border: 1px solid var(--border-subtle);
  padding: 1rem;
  overflow-x: auto;
  border-radius: var(--radius-small);
}
code {
  background: var(--surface-2);
  padding: 0.1rem 0.25rem;
  border-radius: var(--radius-medium);
}
table {
  border: 2px solid var(--border-strong);
  border-radius: var(--radius-medium);
  border-collapse: collapse;
}
tbody tr:nth-child(odd) {
  background-color: var(--surface-table-odd);
}
tbody tr:nth-child(even) {
  background-color: var(--surface-table-even);
}
th, td {
  padding: 0.25rem 0.75rem;
}

/* ---------------------------------------------------------
   LAYOUT STRUCTURE
   --------------------------------------------------------- */
.layout {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
}
.mainContent {
  flex: 1;
  padding: 1rem;
  order: 2;
}
#navigation {
  flex: 0 1 auto;
  margin-left: 1rem;
  order: 1;
  max-width: 20rem;
  min-width: 12rem;
  width: 18vw;
  word-wrap: break-word;
}
#navigation a:visited {
  color: inherit;
}
/* Responsive */
@media (max-width: 768px) {
  .layout {
    flex-direction: column;
  }
  .mainContent {
    order: 1;
  }
  #navigation {
    order: 2;
    margin-left: 0;
    margin-top: 1rem;
    max-width: 100%;
  }
}

/* ---------------------------------------------------------
   ACCESSIBILITY
   --------------------------------------------------------- */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
a {
  color: var(--link);
}
a:focus, button:focus, input:focus {
  outline: 2px solid var(--accent-primary);
  outline-offset: 2px;
}
a:hover {
  text-decoration: underline;
}
a:visited {
  color: var(--link-visited);
}
#navigation a:visited {
  color: var(--link);
}

/* ---------------------------------------------------------
   COMPONENTS
   --------------------------------------------------------- */
.moduleDescription {
  margin: 2rem;
}
.predicates {
  margin: 1rem;
}
.predicate > h4 {
  background-color: var(--accent-primary);
  color: var(--text-inverse);
  padding: 0.16rem;
  border-radius: var(--radius-small);
}
.predicate > div {
  margin: 0.5rem;
}
.predicate > p {
  margin: 0.5rem;
}
.navlist {
  list-style-type: none;
  padding-left: 1.5rem;
  margin: 0;
}
.navlist li {
  margin: 0.25rem 0;
}
details summary {
  cursor: pointer;
  font-weight: bold;
}
/* Topbar */
.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: solid var(--accent-primary) 10px;
  min-height: 4rem;
}
.topbarLink {
  text-decoration: none;
  color: var(--text-primary);
  font-size: 2rem;
  font-weight: bold;
}

.topbarLink:visited {
  color: inherit;
}

/* Skip link */
.skip-link {
  position: absolute;
  left: -999px;
  top: auto;
  width: 1px;
  height: 1px;
  overflow: hidden;
}
.skip-to-nav {
  display: none;
}
@media (max-width: 768px) {
  .skip-to-nav {
    position:static;
    left:auto;
    width: auto;
    height: auto;
    display: inline-block;
    overflow:visible;
  }
}
.skip-link:focus {
  position: fixed;
  top: 0.5rem;
  left: 0.5rem;
  width: auto;
  height: auto;
  margin: 0;
  padding: 0.5rem 1rem;
  background: var(--accent-primary);
  color: var(--text-inverse);
  z-index: 10000;
  border-radius: var(--radius-small);
  z-index: 2147483647;
  overflow: visible;
}
/* Footer */
footer {
  text-align: center;
  margin-top: 2rem;
}

/* ---------------------------------------------------------
   Highlight.js Prolog Syntax Mapping
   --------------------------------------------------------- */
/* Base HLJS container */
.hljs {
  background: var(--surface-2);
  color: var(--text-primary);
  font-family: "JetBrains Mono", Consolas, monospace;
  padding: 1rem;
  border-radius: var(--radius-small);
  overflow-x: auto;
}
/* Prolog-specific mappings */
.hljs-keyword { color: var(--syntax-keyword); font-weight: bold; }
.hljs-title { color: var(--syntax-functor); font-weight: bold; }
.hljs-symbol { color: var(--syntax-variable); }
.hljs-variable { color: var(--syntax-variable); }
.hljs-string { color: var(--syntax-string); }
.hljs-number { color: var(--syntax-number); }
.hljs-comment { color: var(--syntax-comment); font-style: italic; }
.hljs-operator { color: var(--syntax-operator); }
.hljs-punctuation { color: var(--syntax-punctuation); }
/* Optional: emphasize atoms differently */
.hljs-atom { color: var(--syntax-atom); }
/* Dark mode overrides */
@media (prefers-color-scheme: dark) {
  .hljs {
    background: var(--surface-2);
    color: var(--text-primary);
  }
  .hljs-keyword { color: var(--syntax-keyword); }
  .hljs-title { color: var(--syntax-functor); }
  .hljs-symbol,
  .hljs-variable { color: var(--syntax-variable); }
  .hljs-string { color: var(--syntax-string); }
  .hljs-number { color: var(--syntax-number); }
  .hljs-comment { color: var(--syntax-comment); }
  .hljs-operator { color: var(--syntax-operator); }
  .hljs-punctuation { color: var(--syntax-punctuation); }
  .hljs-atom { color: var(--syntax-atom); }
}
